{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Code Simplifier Skill Schema",
  "description": "코드 복잡도 분석 및 단순화 제안 스킬의 입력/출력 인터페이스 정의",
  "type": "object",
  "properties": {
    "input": {
      "type": "object",
      "description": "스킬 입력 파라미터",
      "properties": {
        "target_path": {
          "type": "string",
          "description": "분석할 디렉토리 경로 (선택적, 기본값: src/)",
          "default": "src/"
        }
      },
      "additionalProperties": false
    },
    "output": {
      "type": "object",
      "description": "스킬 출력 결과",
      "properties": {
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "분석 실행 시각 (ISO 8601 형식)"
        },
        "totalSuggestions": {
          "type": "integer",
          "description": "발견된 제안 사항의 총 개수",
          "minimum": 0
        },
        "suggestions": {
          "type": "array",
          "description": "코드 복잡도 개선 제안 목록",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "enum": ["long_function", "deep_nesting", "high_complexity"],
                "description": "제안 유형"
              },
              "file": {
                "type": "string",
                "description": "문제가 발견된 파일 경로"
              },
              "line": {
                "type": "integer",
                "description": "문제가 발견된 라인 번호",
                "minimum": 1
              },
              "message": {
                "type": "string",
                "description": "제안 메시지"
              },
              "severity": {
                "type": "string",
                "enum": ["high", "medium", "low"],
                "description": "심각도 (high: 즉시 수정 권장, medium: 수정 권장, low: 개선 여지)"
              }
            },
            "required": ["type", "file", "line", "message", "severity"],
            "additionalProperties": false
          }
        }
      },
      "required": ["timestamp", "totalSuggestions", "suggestions"],
      "additionalProperties": false
    }
  }
}

