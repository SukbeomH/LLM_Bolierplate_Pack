{
  "hooks": {
    "SessionStart": [
      {
        "matcher": "startup|resume",
        "hooks": [
          {
            "type": "command",
            "command": "\"$CLAUDE_PROJECT_DIR\"/.claude/hooks/session-start.sh",
            "timeout": 10
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Edit|Write|Read",
        "hooks": [
          {
            "type": "command",
            "command": "\"$CLAUDE_PROJECT_DIR\"/.claude/hooks/file-protect.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "\"$CLAUDE_PROJECT_DIR\"/.claude/hooks/bash-guard.py",
            "timeout": 5
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "\"$CLAUDE_PROJECT_DIR\"/.claude/hooks/auto-format-py.sh",
            "timeout": 30
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "auto|manual",
        "hooks": [
          {
            "type": "command",
            "command": "\"$CLAUDE_PROJECT_DIR\"/.claude/hooks/pre-compact-save.sh",
            "timeout": 10
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "\"$CLAUDE_PROJECT_DIR\"/.claude/hooks/post-turn-index.sh",
            "timeout": 10
          },
          {
            "type": "command",
            "command": "\"$CLAUDE_PROJECT_DIR\"/.claude/hooks/post-turn-verify.sh",
            "timeout": 15
          },
          {
            "type": "prompt",
            "prompt": "After completing this turn, update context if code/docs were modified:\n\n## CURRENT.md 업데이트 (변경사항 있을 때만)\nIf you modified files this turn, update `.gsd/CURRENT.md`:\n- **Working Files**: List files you edited/created\n- **Decisions Made**: Quick notes on decisions (1-2 lines)\n- **Blockers**: Any blockers encountered\n\n## PATTERNS.md (중요 패턴 발견 시)\nIf you discovered a reusable pattern, add 1 bullet to `.gsd/PATTERNS.md` (max 20 items, 2KB).\n\nSkip if this turn was only reading/exploring."
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "\"$CLAUDE_PROJECT_DIR\"/.claude/hooks/save-transcript.sh",
            "timeout": 10
          },
          {
            "type": "command",
            "command": "\"$CLAUDE_PROJECT_DIR\"/.claude/hooks/save-session-changes.sh",
            "timeout": 10
          },
          {
            "type": "prompt",
            "prompt": "Session is ending. Perform these tasks:\n\n## 1. Memory Graph 요약 저장\nCall `store_memory` with:\n- type: \"session-summary\"\n- title: \"Session: [brief description]\"\n- content: What was built/changed, key decisions, patterns. Keep under 500 chars.\n- tags: [\"session-learnings\", \"auto\"]\n\n## 2. CURRENT.md 리셋\nReset `.gsd/CURRENT.md` to empty template (clear Active Task, Working Files, Decisions, Blockers sections). Keep the header structure.\n\n## 3. PATTERNS.md 업데이트 (새로운 패턴 발견 시)\nIf you learned reusable patterns this session, add 1-2 bullet points to `.gsd/PATTERNS.md`. Keep under 2KB, max 20 items.\n\n## 4. CHANGELOG 요약 추가 (변경사항이 있는 경우)\nRead `.gsd/CHANGELOG.md`, find the most recent entry (marked with today's date and session ID), and add a '#### 요약' section with 1-2 sentences describing the changes.\n\nSkip all if the session was trivial (only reading/exploring, no code or doc changes)."
          }
        ]
      }
    ]
  },
  "enabledPlugins": {
    "plugin-dev@claude-plugins-official": true,
    "agent-sdk-dev@claude-plugins-official": true
  }
}
